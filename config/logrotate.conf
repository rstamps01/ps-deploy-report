# VAST As-Built Report Generator Log Rotation Configuration
# Place this file in /etc/logrotate.d/vast-reporter

/var/log/vast-reporter/vast_report_generator.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 vast-reporter vast-reporter
    postrotate
        # Send SIGUSR1 to the application to reopen log files
        # This is optional and depends on your deployment method
        # kill -USR1 $(cat /var/run/vast-reporter.pid) 2>/dev/null || true
    endscript
}

# Alternative configuration for logs in project directory
# Uncomment and modify if using logs in project directory
# /path/to/ps-deploy-report/logs/vast_report_generator.log {
#     daily
#     missingok
#     rotate 30
#     compress
#     delaycompress
#     notifempty
#     create 644 vast-reporter vast-reporter
# }
